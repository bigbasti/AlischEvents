CREATE TABLE [Newsletters] (
    [Id] [int] NOT NULL IDENTITY,
    [Subject] [nvarchar](max) NOT NULL,
    [Content] [nvarchar](max) NOT NULL,
    [HtmlContent] [bit] NOT NULL,
    [WasSent] [bit] NOT NULL,
    CONSTRAINT [PK_Newsletters] PRIMARY KEY ([Id])
)
CREATE TABLE [NewsletterConsumers] (
    [Id] [int] NOT NULL IDENTITY,
    [Email] [nvarchar](max) NOT NULL,
    [EmailsReceived] [int] NOT NULL,
    [Active] [bit] NOT NULL,
    [Newsletter_Id] [int],
    CONSTRAINT [PK_NewsletterConsumers] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_Newsletter_Id] ON [NewsletterConsumers]([Newsletter_Id])
ALTER TABLE [NewsletterConsumers] ADD CONSTRAINT [FK_NewsletterConsumers_Newsletters_Newsletter_Id] FOREIGN KEY ([Newsletter_Id]) REFERENCES [Newsletters] ([Id])
CREATE TABLE [__MigrationHistory] (
    [MigrationId] [nvarchar](255) NOT NULL,
    [CreatedOn] [datetime] NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK___MigrationHistory] PRIMARY KEY ([MigrationId])
)
BEGIN TRY
    EXEC sp_MS_marksystemobject '__MigrationHistory'
END TRY
BEGIN CATCH
END CATCH
INSERT INTO [__MigrationHistory] ([MigrationId], [CreatedOn], [Model], [ProductVersion]) VALUES ('201207261220190_Newsletter', '2012-07-26T12:26:30.126Z', 0x1F8B0800000000000400ECBD07601C499625262F6DCA7B7F4AF54AD7E074A10880601324D8904010ECC188CDE692EC1D69472329AB2A81CA6556655D661640CCED9DBCF7DE7BEFBDF7DE7BEFBDF7BA3B9D4E27F7DFFF3F5C6664016CF6CE4ADAC99E2180AAC81F3F7E7C1F3F22FEC7BFF71F7CFC7BBC5B94E9655E3745B5FCECA3DDF1CE4769BE9C56B36279F1D947EBF67CFBE0A3DFE3E8374E1E9FCE16EFD29F34EDF6D08EDE5C369F7D346FDBD5A3BB779BE93C5F64CD78514CEBAAA9CEDBF1B45ADCCD66D5DDBD9D9D83BBBB3B777302F111C14AD3C7AFD6CBB658E4FC07FD79522DA7F9AA5D67E517D52C2F1BFD9CBE79CD50D317D9226F56D934FFECA3E3B2A0AE4E2FF365DB8CBF9B4FC6F2CA47297D91113AAFF3F2FC3D71DB7908DC3EB2BD52BFA7845F7BFDE67A9573DF04B668F3AF9ABCF65B51BBDF2BBF0E3EA08F5ED6D52AAFDBEB57F9B9BE8BF7CE9E7E94DE0DDFBDDB7DD9BEDA790F687CF6D1D9B2BDB7F751FA625D96D9A4A40FCEB3B2C93F4A579F3E7ADD5675FE79BECCEBACCD672FB3B6CD6B9AA5B359CEC350723C5A7D7A3B8A3CBCBBB3078ADCCD96CBAACD5A9AF21EF21D549F1575D32EE95783EDEBB62616FA287D56BCCB67CFF3E5453BB7187F91BD339FD0AF1FA55F2D0BE2387AA9ADD77964849BBB7E9EFD5CF58CF9F9B9E9F9749115E50FBFDB9759D35C55F5ECE7AEE7BD9FEDAE1FDF75A2BF512190EA814EF83AFA00EF7D1D7D60DEFBFF803E00AA6F8AB6FC39900D74FD3C9BE43F07F281AEC996B544E66FB473F9FB86BEE7D5D597CB2FF2E5DA74FDA4AACA3C5BBEF72800E3CB7A761BDBB319D059F37A954F8BAC6441F940AC0818586FFA4DC06263FEEAF9CFF21CDD5A953C29AB8BAFA347F0DED7D123E6BDFF0FE8916F8C17F1EFCFF27CF73BFDE63560B4D717D96571C1E4EC5ACDAA69C9337E9597FC6D332F56E2208FC102BFBF7EFDACAE16AF2A40779FFEFEAFAB753D05EE55EFAB37597D91B71FC0EB00F375F81DEF7D1D7E37EFFD7F80DF6F279A9B611CAFDB7955FFECB35DA7DBA79953CCF8FD4DB10860DC0EF7B2ACAE4EAAC502E1DD87AAF997757E59E457678BECE2872085DDCED7138A54E7B97596BFEE28BE792572AB6E95786FF2773F7C5FE687E6430D6A4EC78203CA133AE5F777AD421D1A7C1955A5618B0FD2A800A590BE8E52D557BF8E5EF55EFDFF806ABD9D15F8FFAF6AFDA10955A7DF6F3E57D1EFF5D6C2C2F1D1D79012BCF77544C4BCF7FF46F918547E409A285717795CFFE1FBDF3F68E4D45FF7BB9EF6EB35F820E567005D7FDD49E597BFEECCDA97FFDF38BD3772E2FBAB3F52A185F4F5214AF49B77686EA3867EF6E3FD38CDBF46F47A6BEE874ACFA6EDABFC17ADF3AF1752E9AB5F4700BC57FF3FC0FEDF88097D95671FECCEBF5E4F7E3A9FFEF0CDF00FC7FCDF9A753FCFCA32FF7A6A5B5FFD3A3CEBBDFAFF019EFDE615E5AD38F4595592CAC2EF3F84BE079D90E3E9346F9A37D5DB7C19F742742E7FFFB0A1F34462DFF7BC9168A30FF2483C485F87B9F9C5AFC3DAF6C5DB33F6CF19639F35C7D3B6B8B4FCF57575A950F9679F49BB025294F9F3625198C17E83FDDF4A9397C5F46DBFFFDB781671BBD887754B0B796BA178915F35650E46FB3A3271367B7F71C03BFF1F90849F0D6FE056F3FEB3E10EDCAAE36FB78BB2D3F9D715FFEF66CDEBAF0366D0E6BCA2D5CA55910FE5FD1C17FFFE7E4B6772A20D7A3627DEEA838C8E0349A46DD68B1FC95907CD6F3E09752B0EE56E1B9AE59CACDD8D94DA0CEBEB98CC21063A6E9A8A16E6413985DECF6987C89C2E67E98D096EA1AE9F222782AECBB65891C922343EFB6837044B80BF5C3ECD8975F314E3AB882B4EB2669ACDFAE4A0A1CC6E8F9311270F273F51DE41EB5BBDDE482AF21AEC99415B356D9D15CBB62F42C59204382B6F224DE7C5A8F4C557373170DB4DF79BA7F92A5F42886E22C387F56FBBE94CC84D347A7CD7E3B39BD94FD7A337CD7177713A64B81F22B37596C26FC1F9DF208B8554B8CDDC9A65E50FE4AD70D41FD6B185FFB3C754BD3CF5D08C0E27ADDDBCE2EB1F12830DA6C83BE8E0EBEB9F253E1B22C96D261DAF7D20B70D91E0C3BAB7BDFCECF15C342B3134D19B53146EB24DB2AC33D53BE3F16E6FB66F80EE58C942F733169B99E93DE810F7958750BDC1717694F002C9F723C666A73BDA8375A5BF2651C4F5E21C7D41AEAF71E3CA829CDBA74F7AB440E3D7796B02C3A2CDBF6AF29AE20BE7C2298AE6BBC8704320DFCD27681B83A15FDD08020A3CF6BED8DBDBBC2C563D0E410CE52DA078BE5B0C56E0DADD021C54440C8E28F91B00F816250E4215F30D70C2D59B18ACCEFACE4D0055E06390AC06B90144984CED810954C50DA09C20C520F9827C6B40462237037472DB01ECC9699FBB5CE0937AED3ABC3A101D059A66383EB2030B25A367A76E13D7746085F2D1F535C281DF9228EA8E0F5023E6ACF750EFB8EBDDF1DF38F48E977D2BFA7D8DD1F6FCC4C89837FB9201E683DE64077F55421B6830E8087A9002BC3F9814F145953E396E767382816C7474BCC1380DB6812A1BFD1A0F5838860F26CD40F6AF4F9B5BB83EC178363B3FDE80028DBA81409B7D9D28404FB3DE9A5026B9643D1CFBDDE3BBAF397FA71F3CBE4B4DA6F9AA5D67E517944C2B1BF3C517D96A45A938F3B7FB247DBDCAA6B091DBAF353B78BBD4E0C15DCA0E2E04C6DD6940F5AE3F667BA2E464769177BE85799EE5CF8ABA696931249B6448AD9DCC16BD6637F973A69BAE5BD79F3E63D0CC1BF8DDF7194F2F318FF0DCC64245E7087680393A3EA3A1C128F028758C3CF5C3AFD2CBAFA75999D59DFC235A23AC3AA9CAF562197ED665C661284CD16586A5251F90F7F1ED613DCF62A0DCA7B7878471F421B94F6F0F4913CD3E18FDE8F6305E664D7355D5B3108CFBF4FD21EDC541EDC5603DBEDBE19D2EA7AAD87BACDAD1185DDEBF9564D858E59B100C13DDBCBF5C0CBE394462B4EE8A85F9ECF6138537DE146DD9E140EFE3F783F53C9BE41D36F43E5658B7846557EBBAD0EC17EF016F5E5D7DB994302B00E77D7E7B6868FF653DEBEBA5E08BDBC33B6B5EAFC86066A584C63EC4CE57EF05134B54D32848EF9BDB4364D5FDEA797F3EF8C3FFD708B4B8F8DF843473AEE1FD4539FEDA10554DA6DA27EA50F67A18CA37CD91F83704249FDC1E4244AB0C6A949F4B4E198A27BF1EBB7062E9EBB14CFCD521F29A55B3C0BCEA67B79FA46F86F98ED7EDBCAA4328E6B3DB432177B7C32FF2C9ED211C976575E5B211013AE157B787F9B2CE2F8BFCEA6C41AE7A87DAC137EF01713D21069A63593E00E73EBE3DACF711B21B46F8267FD731B5C117B7871735DB9EC9FE7F91F007D9AB6F4205F8F9E0F7D7021BDF1E2637BFD09562EFE3DB4FDD37A354FEDFA20EDE971187E0BC4F68F573C8CCB0F4DF0C17B33BFCFEEC1B7F6D88AA681D7356E2BCF673445720743A9878FD7A9405BCEBAF49DE817737D1985F8911DA7E717B4978BF39DBA0650A64F57A7A463FBD3DA46FC2FCF5229A816866134DBE8EE7FD73C4D1DDC5BF6F82AB3BCB85EFCFDA370118A2BDBED0A5BCF7F1EDE7F1C3EDCDAB3CEBF874F2C9ED21BC5E4F7E3A9F762C96FDF0F670DED7F2FD1CF1A25D75F92698D0AC34BF3FF70DBE39445E7DA1CB76DEC7B79FAA6F42853DAB4A5233F83D04E47FFEFF9A49BF61E5EEFD27DE03F835267FE3DB839386E6DDE9B71FDE7EE2CE9AE3695B5CF6F273E6D3DB439201F4F1791F18CF8A327F5E2C8A96D7DC3AACD4F9EEF6504FCA62FA76086CEFCBDBC385761E02DBFDEEFF35CCEFAFA47E13BCEFE07D0DD6DFF4F220C7762C1CFEBEFD9CFD5CD9B72138DF6E17651456F0C5EDE17D376B5EF760D90FFF5FC8856EF9FD9BE54603F783B87218C8CF0E77BE4F9CBF1146F32A9FE6A4C03BD874BFBB3DD4989518B6113FDB5C75DC3415AD4841B50EB974BF7F60E56FC13AF1F7DEC35813C3CEE26E5A00F3F77F5DADEB696C81F66B787ABFFF068F0F44B4087D4D5CDF64F5451E8BA7BE01A764237E2479330EC6D3B3E6C5BA2C3FFBE83C2B9B0E03DE4884C777A39C727B6672AAE0F727A9295605B8E636DC34F0E2FBAB9AC84C4561BF275B75F5940733A6B2DE9397E218BE1F33DD46937E3D163AA9CADB8DFB66F6318A8AD307C532AFBB4DAC26D44FECDF8DF9002C41EB37C237EEBDD7D379BEC89816CD2A9BE6F02E66F9B3A26E5AF22DB349D6E4D2E4A3940877595098458ECC75D3E68B311A8C5FFFA2927C5B36FBA6C117D9B238A7B4048BE4671FEDEDEC1C7C941207670DBD9A97E71FA5EF16E592FE98B7EDEAD1DDBB0D77D08C17C5B4AE9AEABC1D4FABC5DD6C56DDA5571FDEDDD9BB9BCF16779B6656FA93EA196EE3746185BEE9F2F6E3DF2BEFB192E18157F9B9BE8BF76282DD7DD9BEDA790F687CF6510132B0F07D9ED32C91733E7B9961D69760AC9C11FE2885A2C926656E954DA7D35EB44293B1CC10DB4A2FCBCBAC9ECEB37A6B91BDBBF3DEE09E67DF24348CFF9B83A65EC83701EA65D63457553DFB66A1ED7D1D70BE1BB2918149B18387BF0EFFE2BDAFC3BFE6BD9F45FE45179AE9797FDAC5C13DCF26F937C427006703A01B00B6F5FA6678F3EAEACB2552E206DCA468DF1BAB20A5EECDCD7B82396B5EAFC8306625B3D507E043809062987E281C56D15876786F4ADF5A88B042F8752408EF7D1D0932EFFD2C4AD037C40DF8F76B50BE0FE876D2FC817388E5F8AF338FF165FC9BE7D1BCF7B3388F1156794F08C7EB765ED55F83F47D50B2E8238066F47B5B803BDE179FB2ACAE4EAA05826F0D58BE9E627859E797457E75B6201FF51B19DECBF58462A639D20F5F1FABDB31FAAD40E900DFE4EFBE193BF3F56DD6ADA51012A173FB7504515FFD3AB2E8BDFAB3288E11897F4F08FF6F13C7AFCF147D58B7F3C53F80BDD847FA1A7C85F7BE0E5399F7BE318E7AAF91D287DD95D7DB0F975FFEBA63B62F7F6303BF156DDF13020963216B585F1FC6EDD4F56D98FFEBF9A871BABCB7E7766BBEE274D0B47D95FFA275FEF59C257DF5EBB096F7EACF22637D236AF1559E7D901B6017EEBE018EF8FA2AFAD66CA179EAAFC30F1B52DC37F183F7EACF223FDC4EC46F05EA59559260E2F7AF03EFD6B331B89473BB191958D7B8793EEC8B3F8BB371D698C5B9AF2F5C4299AF310391192DCAFC79B1285ACEA4DF08F356E25A16D3B77D98372BF134AACAFA90BEB6528BAC4A4571FB0045E2562DBE0EE7C6163A6E625ABCF3B3C8AFB755E4B702765B4D7E2B60DF6E176507E0D711A6EF66CDEBF702F1357821BE84F8FF599EB85D9C737B500D2D45E6A41343ACDF13D287ABD5CE8AE307AA8663B740A9F091CBFAFD1141371D3EA065DAF455556A13D333D6FDC6F2C117EBB22D56A457A99FCF3EDAEDAD447FB97C9A13E6790A225434B5275933CD66FD1163B17853DF9C41ECF62F1F86387CAB079A3836AFC15019A4B2696B5A756DFBEC5D2C69D5392BFDF1761A45A5209E6AC6882CC8EE374FF355BE048B77C7F761FD59B01DCADE34FEC7FE92F5CD8C024C7F7F9B26FC46E6EC67896FFC9C978F46F0F9ADB9E77DB9E7D6331A4F72BF17070D66F7B8F5FB746921FFEC3111E2E8DFDF24338A7C988738A9E44F9C7CF043E11D97E6E922A09FFEACF04D3F8DA6CDBA1318CF9BBD17CF0C24B2B8EDFB7468E1FEEC718C718FBDF06B986B4CC4ECCF9BFD2C9CB59DF178B737710E921FEDF9D082CF7F56F8201AF56BCB5B87F9EFC50D83912DB71EECD58F587E4E58C3738DC8572B56C546ABE40541FE84FA1FBF1787441CE9385CF7F5CF0ABF0C0577DAF866CFFDBD78E5A6F0815FEAF7DAF1627F08EC22FE2F67560B8A316CAC37CB9F1575D352109F4D3272BFBBD38BB75EE7AD09348B36FFAAC1DC397F5A27D87DF57A3ACF1719A5002615B180B8E4E6DB26C2416117DFCD27681CE9C17E13EB40BFBC19BE38EB3DE0F2710C32BEB91D58F1E7A2A0E5AB21F0126FDCD445E0ABF57A09BE8D75E435B8B92F712F7A9DC8C731E8F8E67660D56988C2D6EF863AC0D7C52DE6B8B380D0EFABDB20D661D8E6E64EAD61EDF566BF8975235FDE665481ADED75127C1BEB28F0186EEACB3703BDAEFC2F633DB9EFDFA72367173674E81A6DEED8B4EB23E0E9C7507A35EA4FBD069E00C7720281FDF3F50A01361FF4547B2C2EECBC251F763DF410F15B0E2A8C5007C6B6218CFDFA08076F465417BF1C7CFEC103EE455391F16E8EB802A47D1DC8D8CA071B86D9536FF635FDF483871875FF23C3BC394C0810EFE82E46DB7E16201DBE175149FC6EF0F9070F3AEED846467D0B0F3840BFAFE5187BFFE30D831F565D1D28EEEB5B93C2242CADC366BF7B7C57349F7E407F52E238BBC8BF2057AE6CF8537213D74B2CBEC85F4FF3A6B870201E13CC65CEF90007D4B4395B9E57C65DED60649A7412B25FE46D468B3DD971DD16E7642FE96BCC7DB124E5F79359B9CE913F9EE4B3B3E597EB76B56E69C8F96252067C057F7753FF8FEFF6707EFCE50A7F35DFC41008CD02EB555F2E9FAC8B7266F17E165957180001475A93F798CB1649FC8B6B0BE945B5BC252025DF53E3FFBFC917AB9280355F2E5F67489D0FE176330D438A3D7E5A641775B6F029289F185F3FA39EBD2EA803FF0DD71FFD49EC3A5BBC3BFA7F020000FFFFF143579318940000, '4.3.1')
